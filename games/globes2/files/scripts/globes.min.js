var qbLibrary=qbLibrary||{};
qbLibrary.settings={sound:!0,debug:!0,mobile:function(){qbLibrary.settings.mobile=!1;var c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,4)))qbLibrary.settings.mobile=
!0;return qbLibrary.settings.mobile},zindex:10};
qbLibrary.utils={distance:function(c,a,b,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(b-d,2))},random:function(c,a){var b=a||0;return Math.floor(Math.random()*(c-b+1))+b},dump:function(c,a){var b,d;b=c||qbLibrary;d=[];$.each(b,function(b,c){d.push(b+(a?" : "+c:" : "+typeof c))});return"\x3cpre\x3e"+d.join("\n").replace(/\</i,"\x26lt;").replace(/\>/i,"\x26gt;")+"\x3c/pre\x3e"},log:function(){if(console&&qbLibrary.settings.debug){var c=arguments.callee.caller.toString().match(/^function\s*([^\s(]+)/),c=
c&&c[1]?c[1]:"\x3cnone\x3e";console.log(c+": "+Array.prototype.slice(arguments).join(" # "))}},remClassRegEx:function(c,a){var b,d=[],h,e;b=c.attr("class").split(" ");h=0;for(e=b.length;h<e;h++)b[h].match(a)||d.push(b[h]);c.attr("class",d.join(" "))},isset:function(c){return"undefined"!==typeof c},dummyFunction:function(){},inherit:function(c,a,b){c.call(a,b)},prepareWindow:function(){$("body").css({margin:0,padding:0,overflow:"hidden"});$("head\x3elink, head\x3estyle").first().before('\x3cstyle type\x3d"text/css"\x3e.qbGameObject{border:0;margin:0;padding:0;left:0;top:0;position:absolute}\x3c/style\x3e')},
fillString:function(c,a,b){for(c=c.toString();c.length<b;)c=a+c;return c}};
qbLibrary.interfaces={visible:function(c){function a(){return e.refresh().locate(qbLibrary.utils.random(e.div.parent().height()-e.height),qbLibrary.utils.random(e.div.parent().width()-e.width))}function b(){return e.refresh().locate(qbLibrary.utils.random($(window).height()-e.height),qbLibrary.utils.random($(window).width()-e.width))}function d(){return e.refresh().locate((e.div.parent().height()-e.height)/2,(e.div.parent().width()-e.width)/2)}function h(){return e.refresh().locate(($(window).height()-
e.height)/2,($(window).width()-e.width)/2)}var e=this;e.init=function(c){e.div=$("\x3cdiv /\x3e");e.div.appendTo(c||$("body")).css({display:"none","z-index":qbLibrary.settings.zindex,"user-select":"none","-o-user-select":"none","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none"});e.locateRandom=c?a:b;e.center=c?d:h;e.div.addClass("qbGameObject");e.presentSpeed=400;e.disposed=!1;e.refresh()};e.refresh=function(){e.left=parseInt(e.div.css("left"),10);e.top=parseInt(e.div.css("top"),
10);e.width=e.div.outerWidth();e.height=e.div.outerHeight();return e};e.locate=function(a,b){e.div.css({left:b,top:a});return e.refresh()};e.size=function(a,b){e.div.css({height:b,width:a});return e.refresh()};e.parseCss=function(a){e.div.css(a);return e.refresh()};e.dispose=function(a){e.div.unbind().remove();if(a)for(var b in e)e[b].dispose&&e[b].dispose(!0),delete e[b];e.disposed=!0;return e};e.present=function(a,b){var d;switch(typeof a){case "undefined":d=void 0;break;case "function":d=a;break;
default:e.presentSpeed=a,d=b}e.div.fadeIn(e.presentSpeed,d);return e};e.prop=function(a,b){b&&(qbLibrary.utils.remClassRegEx(e.div,a),e.div.attr(a,b).addClass(a+b),e[a]=b);return b?e:e[a]};e.appendTo=function(a){e.div.appendTo(a);return e};e.centerAlways=function(){$(window).on("resize",e.center);e.div.parent().on("resize",e.center);e.div.on("resize",e.center);e.centerDispose=e.dispose;e.dispose=function(a){$(window).off("resize",e.center);e.div.parent().off("resize",e.center);e.centerDispose(a)};
return e.center()};e.init(c)},sound:function(c){var a=this;a.init=function(b){a._dir=b;a._sounds={}};a.addSound=function(b,d){try{var c=new Audio;""!==c.canPlayType("audio/"+d.split(".").pop())&&(c.src=a._dir+d,a._sounds[b]=c)}catch(e){qbLibrary.utils.log(b,d,e.message)}return a};a.playSound=function(b){if(b in a._sounds){try{qbLibrary.settings.sound&&(a._sounds[b].pause(),a._sounds[b].currentTime=0,a._sounds[b].play())}catch(d){qbLibrary.utils.log(b,d.message)}return a}qbLibrary.utils.log(b,"No such sound")};
a.parseSounds=function(b){for(var d in b)a.addSound(d,b[d]);return a};a.init(c)},event:function(){var c=this;c.on=function(a,b){c._listeners=c._listeners||{};c._listeners[a]?c._listeners[a].push(b):c._listeners[a]=[b];return c};c._hasListener=function(a){return"undefined"!==typeof c._listeners[a]};c.off=function(a,b){if(!c._hasListener(a))return!1;for(var d=0;d<c._listeners[a].length;d++)c._listeners[a][d]===b&&c._listeners[a].splice(d,1);return c};c.trigger=function(a,b){c._listeners=c._listeners||
{};if(!c._hasListener(a))return!1;for(var d in c._listeners[a])c._listeners[a][d](b)}},active:function(){var c=this;c.init=function(){c.paused=!1;c.started=!1;qbLibrary.utils.inherit(qbLibrary.interfaces.event,this)};c.start=function(a){c.started||(c.started=!0,c.paused=!1,c.trigger("start",a))};c.pause=function(a){c.started&&(c.started=!0,c.paused=!0,c.trigger("pause",a));return c};c.resume=function(a){c.started&&(c.started=!0,c.paused=!1,c.trigger("resume",a));return c};c.stop=function(a){c.started&&
(c.started=!1,c.paused=!0,c.trigger("stop",a));return c};c.init()},keybinds:function(c){var a=this;a.init=function(b){a.bindKeys(b)};a.currentKeys=qbLibrary.utils.dummyFunction;a.bindKeys=function(b){a.unbindKeys();a.currentKeys=b;$(document).on("keydown",b);return a};a.unbindKeys=function(){$(document).off("keydown",a.currentKeys);return a};a.init(c)},cache:function(){function c(){var a=this;a.getCache=function(a){return localStorage.getItem(a)};a.setCache=function(d,c){localStorage.setItem(d,c);
return a};a.remCache=function(d){localStorage.removeItem(d);return a}}function a(){var a=this;a.getCache=function(d){return d&&a.hasCookie(d)?unescape(document.cookie.replace(RegExp("(?:^|.*;\\s*)"+escape(d).replace(/[\-\.\+\*]/g,"\\$\x26")+"\\s*\\\x3d\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null};a.setCache=function(d,c){if(!d||/^(?:expires|max\-age|path|domain|secure)$/i.test(d))return a;var e=new Date;e.setTime(e.getTime()+6048E5);document.cookie=escape(d)+"\x3d"+escape(c)+"; expires\x3d"+e.toGMTString();
return a};a.remCache=function(d){if(!d||!this.has(d))return a;document.cookie=escape(d)+"\x3d; expires\x3dThu, 01 Jan 1970 00:00:00 GMT";return a};a.hasCookie=function(a){return RegExp("(?:^|;\\s*)"+escape(a).replace(/[\-\.\+\*]/g,"\\$\x26")+"\\s*\\\x3d").test(document.cookie)}}this.init=function(){window.localStorage?c.call(this):a.call(this)};this.init()},borders:function(){function c(a){qbLibrary.utils.inherit(qbLibrary.interfaces.visible,this,a);this.div.addClass("qbBorderVertical");this.refresh()}
function a(a){qbLibrary.utils.inherit(qbLibrary.interfaces.visible,this,a);this.div.addClass("qbBorderHorizontal");this.refresh()}var b=this;b.addBorders=function(d,h,e,q,u){b._borders={};b._bw=0;b._bh=0;q&&(b._borders.l=new c(b.div),b._bw=b._borders.l.width/2);h&&(b._borders.r=new c(b.div),b._bw=b._borders.r.width/2);e&&(b._borders.b=new a(b.div),b._bh=b._borders.b.height/2);d&&(b._borders.t=new a(b.div),b._bh=b._borders.t.height/2);var v=b.refresh;b.refresh=function(){v();b.resizeBorders();return b};
u&&b.showBorders();return b.refresh()};b.resizeBorders=function(){b._borders.t&&b._borders.t.locate(-b._bh,-b._bh/2).size(b.width+b._bh,2*b._bh);b._borders.r&&b._borders.r.locate(-b._bw/2,b.width-b._bw).size(2*b._bw,b.height+b._bw);b._borders.b&&b._borders.b.locate(b.height-b._bh,-b._bh/2).size(b.width+b._bh,2*b._bh);b._borders.l&&b._borders.l.locate(-b._bw/2,-b._bw).size(2*b._bw,b.height+b._bw);return b};b.hideBorders=function(){for(var a in b._borders)b._borders[a].div.hide(0);return b};b.showBorders=
function(){for(var a in b._borders)b._borders[a].div.show(0);return b}}};
qbLibrary.classes={clock:function(c){var a=this;a.format=function(a){return 10>a?"0"+a:a};a.start=function(){var b,d,c;c=new Date;b=c.getHours();d=a.format(c.getMinutes());c=a.format(c.getSeconds());a.div.html(b+":"+d+":"+c);a.timeout=setTimeout(function(){a&&!a.disposed&&a.start()},500)};a.onDispose=function(){clearTimeout(a.timeout);a.start=null};a.init=function(b){qbLibrary.utils.inherit(qbLibrary.interfaces.visible,this,b);a.div.addClass("qbClock");a.timeout=0};a.init(c)},background:function(c){function a(){d.div.css({height:$(window).height(),
width:$(window).width()});return d.refresh()}function b(){d.div.css({height:d.parent().height(),width:d.parent().width()});return d.refresh()}var d=this;d.init=function(c){qbLibrary.utils.inherit(qbLibrary.interfaces.visible,this,c);d.div.addClass("qbBackground").css({"z-index":qbLibrary.settings.zindex-1,position:"absolute",width:"100%",height:"100%"});d.cover=c?b:a;return d};d.init(c)},gameArea:function(c){var a=this;a.mistHide=function(){a.mist.div.hide(0);return a};a.mistShow=function(){a.mist.div.show(0);
return a};a.init=function(b){qbLibrary.utils.inherit(qbLibrary.interfaces.visible,this,b);qbLibrary.utils.inherit(qbLibrary.interfaces.active,this);a.div.addClass("qbGameArea");a.mist=new qbLibrary.classes.background(a.div);a.on("start",a.mistHide);a.on("stop",a.mistHide);a.on("pause",a.mistShow);a.on("resume",a.mistHide)};a.init(c)},box:function(c){this.init=function(a){qbLibrary.utils.inherit(qbLibrary.interfaces.visible,this,a)};this.init(c)},options:function(c){var a=this;a.init=function(b){qbLibrary.utils.inherit(qbLibrary.interfaces.visible,
this,b);a.div.addClass("qbOptions")};a.parseConfig=function(b){var d,c;for(c in b)d=b[c],a.addButton(c,d.desc,d.title,d.checked,d.enabled),d.visible&&a[c].present();return a.refresh()};a.addButton=function(b,d,c,e,q){a[b]=new qbLibrary.classes.optionButton(a.div);a[b].div.attr("id","qbOption"+b);a[b].title=c;a[b].desc=d;a[b].checked=e||!1;a[b].enabled=q||!1;return a};a.remove=function(b){a[b].dispose();delete a[b];return a};a.init(c)},optionButton:function(c){var a=this;a.init=function(b){qbLibrary.utils.inherit(qbLibrary.interfaces.visible,
this,b);a.div.addClass("qbOptionButton").css({cursor:"pointer"});a.title="";a.desc="";a.checked=!1;a.enabled=!1;a.action=qbLibrary.utils.dummyFunction};a.enable=function(b){a.enabled=b;a.enabled?a.div.addClass("enabled"):a.div.removeClass("enabled")};a.check=function(b){a.checked=b;a.checked?a.div.addClass("checked"):a.div.removeClass("checked");return a};a.click=function(b){a.action=b;a.div.off("mousedown").on("mousedown",a.action);return a};a.repaint=function(){a.div.attr("title",a.title);a.div.html(a.desc);
a.check(a.checked);a.enable(a.enabled);a.click(a.action)};a.init(c)},statField:function(c){var a=this;a.val=function(b){return qbLibrary.utils.isset(b)?(a.value=b,a._value.html(a.value),a):a.value};a.valInc=function(b){a.value+=b?parseInt(b,10):1;a._value.html(a.value)};a.max=function(b){return qbLibrary.utils.isset(b)?(a.maximum=b,a._maximum.html(a.maximum),a):a.maximum};a.maxInc=function(b){a.maximum+=b?parseInt(b,10):1;a._maximumx.html(a.maximum)};a.repaint=function(){a.div.attr("title",a.title);
a._desc.html(a.desc);a._value.html(a.value);a._separator.html(a.separator);a._maximum.html(a.maximum);a.limit(a.limited);return a};a.parseStatField=function(b){for(var d in b)qbLibrary.utils.isset(a[d])&&"function"!==typeof a[d]&&(a[d]=b[d]);a.repaint();return a};a.limit=function(b){return qbLibrary.utils.isset(b)?((a.limited=b)?(a._separator.show(0),a._maximum.show(0)):(a._separator.hide(0),a._maximum.hide(0)),a):a.limited&&a.value>a.maximum};a.init=function(b){qbLibrary.utils.inherit(qbLibrary.interfaces.visible,
this,b);a.div.addClass("qbStatField");a.limited=!1;a.title="";a.desc="";a._desc=$('\x3clabel class\x3d"desc" /\x3e');a.div.append(a._desc);a.value=0;a._value=$('\x3cspan class\x3d"val" /\x3e');a.div.append(a._value);a.separator="/";a._separator=$('\x3cspan class\x3d"separator"\x3e/\x3c/span\x3e');a.div.append(a._sep);a.maximum=0;a._maximum=$('\x3cspan class\x3d"max" /\x3e');a.div.append(a._maximum)};a.init(c)},statistics:function(c){var a=this;a.init=function(b){qbLibrary.utils.inherit(qbLibrary.interfaces.visible,
this,b);a.div.addClass("qbStatistics")};a.add=function(b,d,c,e,q,u){a[b]=new qbLibrary.classes.statField(a.div);a[b].div.attr("id","qbStat"+b);a[b].limited=d;a[b].title=c;a[b].desc=e;a[b].value=q||0;a[b].maximum=u||0;a[b].repaint().present();return a};a.rem=function(b){a[b].dispose();delete a[b];return a};a.val=function(b,d){a[b].val(d);return a};a.parseConfig=function(b){var d,c;for(c in b)d=b[c],a.add(c,d.limited,d.title,d.desc,d.value,d.maximum);return a};a.init(c)},confirmMessage:function(c){var a=
this;a.text=function(b,d,c,e){a._t="undefined"===typeof b?"":b;a._c="undefined"===typeof d?"":d;a._e="undefined"===typeof c?"":c;a._f="undefined"===typeof e?"":e;0<a._t.length?a._tp.html(a._t).show():a._tp.hide();0<a._c.length?a._cp.html(a._c).show():a._cp.hide();0<a._e.length?a._ep.html(a._e).show():a._ep.hide();0<a._f.length?a._fp.html(a._f).show():a._fp.hide();a.center();return a};a.follow=function(b){a.div.unbind("click").click(function(){a.div.unbind("click").stop().hide(0);b()});return a};a.chain=
function(b,c,h){h=h||0;b.length-1===h?a.follow(c):a.follow(function(){a.chain(b,c,h+1)});a.text(b[h].title,b[h].content,b[h].extra,b[h].follow).present()};a.init=function(b){qbLibrary.utils.inherit(qbLibrary.interfaces.visible,this,b);a.div.css({cursor:"pointer","z-index":3*qbLibrary.settings.zindex}).addClass("qbConfirmMessage");a._tp=$('\x3cp class\x3d"qbMessageTitle" /\x3e');a._tp.appendTo(a.div).css("font-weight","bold");a._cp=$('\x3cp class\x3d"qbMessageContent" /\x3e');a._cp.appendTo(a.div);
a._ep=$('\x3cp class\x3d"qbMessageExtra" /\x3e');a._ep.appendTo(a.div);a._fp=$('\x3cp class\x3d"qbMessageFollow" /\x3e');a._fp.appendTo(a.div).css("font-style","italic");return a};a.init(c)},splashMessage:function(c){var a=this;a.splash=function(b,c,h){a.div.stop(!0,!0).html(b).css({color:c||"#f00","background-color":h||a.div.css("background-color")});a.center().div.show(0).fadeOut(60*b.length)};a.init=function(b){qbLibrary.utils.inherit(qbLibrary.interfaces.visible,this,b);a.div.click(function(){$(this).stop(!0,
!0).hide(0)}).addClass("qbSplashMessage");return a};a.init(c)}};qbLibrary.globes=qbLibrary.globes||{};
qbLibrary.globes.config={setups:{0:{title:{en:"Can I play Daddy?",pl:"Mog\u0119 zagra\u0107?"},freq:900,freqAccel:0.9,age:6E3,bonus:0.9,types:6,life:5,hsmax:5,msize:6,present:0},1:{title:{en:"Slow and steady",pl:"Spokojnie i statecznie"},freq:900,freqAccel:0.8,age:5E3,bonus:0.9,types:6,life:5,hsmax:5,msize:0,present:0},2:{title:{en:"Show me what you can!",pl:"Poka\u017c, co potrafisz!"},freq:800,freqAccel:0.7,age:4E3,bonus:0.85,types:6,life:5,hsmax:5,msize:0,present:500}},sounds:{location:"files/sounds/",
list:{lifeUp:"lifeup.ogg",gameOver:"gameover.ogg",lifeDown:"lifedown.ogg",speedUp:"speedup.ogg",speedDown:"speeddown.ogg",hit:"targethit.ogg"}},texts:{en:{exit:"Quit the game?",follow:"Click to continue...",gameover:"Game over!",hs:["Points","Hit","Pauses","Interval"],hsTitle:"Highscore",lifedown:"life lost",lifeup:"life gained",locale:"English",oextra:"Pause used %d time(s)",otext:"%d targets hit for %d points!",resetStats:"Really reset the Highscore?",speeddown:"speed down",speedup:"speed up",wextra:"Space - pause\x3cbr/\x3eEsc - exit game\x3cbr/\x3eS - toggle sound",
wtitle:"Globes",wwelcome:"Hit the Globes before they turn red!",stats:{active:{desc:"",title:"Globes on the field",limited:!1},hit:{desc:"",title:"Globes hit",limited:!1},points:{desc:"",title:"Points",limited:!1},life:{desc:"",title:"Lives",limited:!1},speed:{desc:"",title:"Globes frequency",limited:!1}},options:{sound:{desc:"",title:"Toggle sound",visible:!0},pause:{desc:"",title:"Pause",visible:!0},exit:{desc:"",title:"Exit the game",visible:!0}}},pl:{exit:"Koniec gry?",follow:"Kliknij, aby kontynuowa\u0107...",
gameover:"Koniec gry!",hs:["Punkty","Trafienia","Pauzy","Cz\u0119stotliwo\u015b\u0107"],hsTitle:"Najlepsze wyniki",lifedown:"stracone \u017cycie",lifeup:"zdobyte \u017cycie",locale:"Polski",oextra:"Pauza u\u017cyta %d raz(y)",otext:"%d trafionych kulek za %d punkty!",resetStats:"Naprawd\u0119 zresetowa\u0107 wyniki?",speeddown:"spowolnienie",speedup:"przy\u015bpieszenie",wextra:"Spacja - pauza\x3cbr/\x3eEsc - koniec gry\x3cbr/\x3eS - d\u017awi\u0119ki",wtitle:"Kulki",wwelcome:"Zbijaj kulki zanim stan\u0105 si\u0119 czerwone!",
stats:{active:{desc:"",title:"Kulki na planszy",limited:!1},hit:{desc:"",title:"Zbite kulki",limited:!1},points:{desc:"",title:"Punkty",limited:!1},life:{desc:"",title:"\u017bycia",limited:!1},speed:{desc:"",title:"Cz\u0119stotliwo\u015b\u0107",limited:!1}},options:{sound:{desc:"",title:"D\u017awi\u0119ki",visible:!0},pause:{desc:"",title:"Pauza",visible:!0},exit:{desc:"",title:"Koniec gry",visible:!0}}}},points:{1:0,2:0,3:0,4:1,5:2,6:3,7:0,8:0,9:0,10:1,11:2,12:3},wallpaper:{timer:6E3,location:"files/images/background/",
count:13,images:{},colors:{"001":"#EFA213","002":"#479BB3","003":"#937B5F","004":"#0760A4","005":"#AB0A12","006":"#FFFFFF","007":"#5CB5D7","008":"#A4BD19","009":"#873CB2","010":"#9CCBE9","011":"#591671","012":"#000000","013":"#40F5A4"}},color:"#0f0"};qbLibrary.globes=qbLibrary.globes||{};
qbLibrary.globes.library={target:function(c,a,b){var d=this;d.init=function(a,b,c){qbLibrary.utils.inherit(qbLibrary.interfaces.visible,this,a);qbLibrary.utils.inherit(qbLibrary.interfaces.active,this);d.colorize=0.5<Math.random()?d.green:d.blue;d.div.addClass("qbTarget").css({"background-color":"rgb("+d.colorize(200)+")","z-index":3});qbLibrary.settings.debug&&d.div.html(b);d.prop("type",b);d.ageLeft=c;d.ageStart=c;d._val=(d.ageLeft/1E3).toFixed();d.active=!0;d.div.mousedown(function(){d.slide();
d.trigger("hit",d)});return d};d.green=function(a){return(100<a?200-a+"%,100":"100%,"+a)+"%,0%"};d.blue=function(a){return 100<a?200-a+"%,100%,"+(a-100)+"%":"100%,"+a+"%,0%"};d.slide=function(){d.active=!1;d.div.unbind("mousedown");d.div.animate({top:d.div.parent().height()},d.div.parent().height()-d.top,"linear",d.dispose)};d.age=function(){d.ageLeft-=100;d.div.css("background-color","rgb("+d.colorize(d.ageLeft/d.ageStart*200)+")");d._val=(d.ageLeft/1E3).toFixed();100>d.ageLeft&&(d.slide(),d.trigger("age",
d))};d.init(c,a,b)},highscore:function(c,a){var b=this;b.init=function(a,c){qbLibrary.utils.inherit(qbLibrary.interfaces.cache,this);b.setup="highscore"+c;b.score=$.parseJSON(b.getCache(b.setup))||[];b.texts=a;b._title="\x3ctable\x3e\x3cthead\x3e\x3ctr\x3e\x3cth\x3e"+a.hs.join("\x3c/th\x3e\x3cth\x3e")+"\x3c/th\x3e\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e";return b};b.add=function(a,c,e,q){b.score.push([a,c,e,q]);b.score.sort(function(a,b){return b[0]-a[0]});6<b.score.length&&b.score.pop();b.setCache(b.setup,
JSON.stringify(b.score));return b};b.get=function(){b.score=$.parseJSON(b.getCache(b.setup))||[];var a=b._title,c;for(c in b.score)a+="\x3ctr\x3e\x3ctd\x3e"+b.score[c].join("\x3c/td\x3e\x3ctd\x3e")+"\x3c/td\x3e\x3c/tr\x3e";return a+"\x3c/tbody\x3e\x3c/table\x3e"};b.reset=function(){confirm(b.texts.resetStats)&&(b.remCache(b.setup),b.score=[])};b.init(c,a)}};qbLibrary.globes=qbLibrary.globes||{};
qbLibrary.globes.game=function(c,a){var b,d,h;function e(a){switch(a.which){case 27:return D(),!1;case 32:return v(),!1;case 83:return E(),!1}}function q(){f.breaks=-1;for(var a in f.targets)f.targets[a].disposed||f.targets[a].slide(),delete f.targets[a];f.targets=[];f.tsb=1;f.freq=r.freq;k.val("active",0).val("hit",0).val("points",0).val("life",r.life).val("speed",(f.freq/1E3).toFixed(2));s.text("","","",l.follow).follow(u).present()}function u(){f.start();b=setTimeout(z,f.freq);d=setInterval(F,
100);A();h=setInterval(A,p.wallpaper.timer);n.pause.check(!1)}function v(){f.started&&(f.paused?(f.resume(),b=setTimeout(z,w(f.freq,100)),d=setInterval(F,100),h=setInterval(A,p.wallpaper.timer),n.pause.check(!1)):B())}function B(){f.pause();clearInterval(b);b=null;clearInterval(d);d=null;clearInterval(h);h=null;f.breaks++;n.pause.check(!0)}function D(){confirm(l.exit)&&(f.started&&B(),g.unbindKeys(),g.dispose(!0),f.dispose(!0),n.dispose(!0),k.dispose(!0),t.dispose(!0),s.dispose(!0),C.dispose(!0))}
function E(){n.sound.check(qbLibrary.settings.sound);qbLibrary.settings.sound=!qbLibrary.settings.sound}function I(a){k.active.valInc(-1);k.hit.valInc();g.playSound("hit");switch(a.type){case 1:case 7:k.life.valInc();g.playSound("lifeUp");t.splash(l.lifeup,p.color,m.curColor);break;case 2:case 8:f.freq=Math.min(f.freq/=r.freqAccel,f.freq);f.tsb++;t.splash(l.speeddown,p.color,m.curColor);k.speed.val((f.freq/1E3).toFixed(2));g.playSound("speedDown");break;case 3:case 9:G();break;default:k.points.valInc(p.points[a.type]*
a._val)}k.hit.val()>f.tsb&&(f.freq*=r.freqAccel,f.tsb+=Math.round(4500/f.freq),k.speed.val((f.freq/1E3).toFixed(2)),t.splash(l.speedup,0,m.curColor),g.playSound("speedUp"))}function G(){k.life.valInc(-1);k.active.valInc(-1);t.splash(l.lifedown,0,m.curColor);g.playSound("lifeDown");if(1>k.life.val()){alert(l.gameover);B();f.stop();g.playSound("gameOver");x.add(k.points.val(),k.hit.val(),f.breaks,k.speed.val());var a=l.otext.replace("%d",k.hit.val()).replace("%d",k.points.val()),b=l.oextra.replace("%d",
f.breaks);s.text(l.gameover,a,b).follow(J).present()}}function J(){s.text(l.hsTitle,x.get(),"",l.follow).follow(q).present()}function z(){if(!f.paused){var a=Math.random()>r.bonus?w(3,1):w(r.types,4);qbLibrary.settings.debug&&qbLibrary.utils.log(a);a=new qbLibrary.globes.library.target(f.div,a+r.msize,r.age);f.targets.push(a);a.on("hit",I).on("age",K).locateRandom().present();k.active.valInc();b=setTimeout(z,f.freq)}}function K(a){3!==a.type&&9!==a.type&&G()}function F(){for(var a in f.targets)!f.targets[a].disposed&&
f.targets[a].active&&f.targets[a].age()}function A(){var a,b,c=qbLibrary.utils.fillString(w(13,1),"0",3);b=m.secondActive?g._wallpaper2:g._wallpaper;a=m.secondActive?g._wallpaper:g._wallpaper2;$(".qbBorderVertical").css(y,m.nextColor);$(".qbBorderHorizontal").css(y,m.nextColor);b.div.fadeOut(1E3,function(){$(this).css(H,"url('"+p.wallpaper.location+c+".jpg')")});a.div.fadeIn(1E3);m.curColor=m.nextColor;m.nextColor=p.wallpaper.colors[c];m.secondActive=!m.secondActive}var C,g,f,n,k,t,s,x;h=d=b=void 0;
var m={},H="background-image",y="background-color",p=qbLibrary.globes.config,r=qbLibrary.globes.config.setups[a],l=qbLibrary.globes.config.texts[c],w=qbLibrary.utils.random;C=new qbLibrary.classes.background;C.present();x=new qbLibrary.globes.library.highscore(l,a);qbLibrary.utils.prepareWindow();s=new qbLibrary.classes.confirmMessage;qbLibrary.utils.inherit(qbLibrary.interfaces.borders,s);s.addBorders(1,1,1,1,!0).centerAlways().text(l.wtitle,l.wwelcome,l.wextra,l.follow).follow(function(){g=new qbLibrary.classes.box;
g.div.attr("id","sgc");qbLibrary.utils.inherit(qbLibrary.interfaces.sound,g,p.sounds.location);qbLibrary.utils.inherit(qbLibrary.interfaces.keybinds,g,e);qbLibrary.utils.inherit(qbLibrary.interfaces.borders,g);g.parseSounds(qbLibrary.globes.config.sounds.list);g._wallpaper=new qbLibrary.classes.background(g.div);g._wallpaper.div.css(H,"url('"+p.wallpaper.location+"002.jpg')");g._wallpaper2=new qbLibrary.classes.background(g.div);m.secondActive=!0;m.curColor=p.wallpaper.colors["001"];m.nextColor=p.wallpaper.colors["002"];
f=new qbLibrary.classes.gameArea(g.div);f.targets=[];f.breaks=-1;f.present();f.freq=0;h=d=b=f.tsb=0;k=new qbLibrary.classes.statistics(g.div);qbLibrary.utils.inherit(qbLibrary.interfaces.borders,k);k.parseConfig(l.stats).addBorders(0,1,0,0,!0).present();k.div.click(x.reset);k._background=new qbLibrary.classes.background(k.div);k._background.present().div.css(y,"#fff");n=new qbLibrary.classes.options(g.div);qbLibrary.utils.inherit(qbLibrary.interfaces.borders,n);n.parseConfig(l.options).addBorders(0,
1,1,0,!0).present();n.exit.click(D);n.pause.click(v);n.sound.click(E);n._background=new qbLibrary.classes.background(n.div);n._background.present().div.css(y,"#fff");t=new qbLibrary.classes.splashMessage(g.div);t.centerAlways();g.addBorders(1,1,1,1,!0).centerAlways().present(q)}).resizeBorders().present()};