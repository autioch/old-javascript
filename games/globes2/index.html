<!DOCTYPE HTML>
<html>
    <head>
        <title>Globes : Games</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="height=486,initial-scale=1.0,maximum-scale=1.0" />
        <meta name="author" content="Jakub Szczepaniak" />
        <script type="text/javascript" src="../jquery-2.0.3.js"></script>
        <script type="text/javascript" src="../qbGames.js"></script>
        <script type="text/javascript" src="files/scripts/globes.config.js"></script> 
        <script type="text/javascript" src="files/scripts/globes.lib.js"></script> 
        <script type="text/javascript" src="files/scripts/globes.game.js"></script>
        <script type="text/javascript" src="files/scripts/globes.min.js"></script> 
        <link rel="stylesheet" type="text/css" href="files/globes.css" />  
        <style type="text/css">
            #menu{width:400px;text-align: center;margin:30px auto}
            #menu>div{padding:5px}
        </style>
    </head>
    <body style="margin:3px">
        <div id="menu">
            <div>
                <select id="globesLocale"></select>
            </div>
            <div>
                <select id="globesSetup"></select>
            </div>
            <div>
                <button id="globesInit">Globes</button>
            </div>
        </div>
        <script type="text/javascript">
            $(function() {
                var c = qbLibrary.globes.config, l = $('#globesLocale'), s = $('#globesSetup');
                for (var i in c.texts) {
                    l.append('<option value="' + i + '">' + c.texts[i].locale + '</option>');
                }
                for (i in c.setups) {
                    s.append('<option value="' + i + '">' + c.setups[i].title[l.val()] + '</option>');
                }
                l.on('change', function() {
                    s.children().remove();
                    $('#globesInit').html(c.texts[l.val()].wtitle);
                    for (i in c.setups) {
                        s.append('<option value="' + i + '">' + c.setups[i].title[l.val()] + '</option>');
                    }
                });

                $('#globesInit').on('click', function() {
                    qbLibrary.globes.game(l.val(), s.val());
                });
            });
        </script>
    </body>
</html>